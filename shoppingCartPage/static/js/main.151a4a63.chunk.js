(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{272:function(t,e){},333:function(t,e,n){},351:function(t,e,n){},365:function(t,e,n){"use strict";n.r(e);var c=n(51),r=n.n(c),a=(n(333),n(217)),i=n(23),s=n(25),o=n.n(s),l=n(47),u=n(130),d=n.n(u);d.a.interceptors.request.use(function(){var t=Object(l.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){console.warn(t)})),d.a.interceptors.response.use((function(t){return console.log(t.status),t.data}),(function(t){throw t}));var j=d.a,f={namespace:"products",state:{productsList:[]},effects:{fetchData:o.a.mark((function t(e,n){var c,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.payload,c=n.call,r=n.put,t.next=4,new Promise((function(t){setTimeout(t,1500)}));case 4:return t.next=6,c((function(){return j.get("./data/products.json")}));case 6:return a=t.sent,t.next=9,r({type:"save",payload:a});case 9:case"end":return t.stop()}}),t)})),sortList:o.a.mark((function t(e,n){var c,r,a,i,s,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,r=n.call,a=n.put,t.next=4,new Promise((function(t){setTimeout(t,400)}));case 4:return t.next=6,r((function(){return j.get("./data/products.json")}));case 6:if(i=t.sent,s=[],"size"!==c.type||"ALL"!==c.key){t.next=13;break}return t.next=11,a({type:"save",payload:i});case 11:t.next=16;break;case 13:return s=null===i||void 0===i||null===(l=i.productsList)||void 0===l?void 0:l.filter((function(t){return t.availableSizes.find((function(t){return t===c.key}))})),t.next=16,a({type:"save",payload:{productsList:s}});case 16:case"end":return t.stop()}}),t)}))},reducers:{save:function(t,e){var n=e.payload;return Object(i.a)(Object(i.a)({},t),n)},sortByPrice:function(t,e){var n=e.payload,c=Object(a.a)(t.productsList);return"up"===n.key?c.sort((function(t,e){return t.price-e.price})):c.sort((function(t,e){return e.price-t.price})),Object(i.a)(Object(i.a)({},t),{},{productsList:c})}}},p={namespace:"cart",state:{cartsList:[],totalMoney:0},effects:{},reducers:{getData:function(t,e){e.payload;return localStorage.getItem("cart")?{cartsList:JSON.parse(localStorage.getItem("cart"))}:{cartsList:[]}},add:function(t,e){var n=e.payload,c=Object(i.a)(Object(i.a)({},n.item),{},{size:n.size,select:!1}),r=t.cartsList,a=t.cartsList.findIndex((function(t){return t.id===c.id&&t.size===c.size}));a>-1?r[a].num++:(c=Object(i.a)(Object(i.a)({},c),{},{num:1}),r.push(c));var s=JSON.stringify(r);return localStorage.setItem("cart",s),Object(i.a)(Object(i.a)({},t),{},{cartsList:r})},changeNum:function(t,e){var n=e.payload,c=t.cartsList,r=t.cartsList.findIndex((function(t){return t.id===n.id&&t.size===n.size}));c.splice(r,1,n),n.num<=0&&c.splice(r,1);var a=JSON.stringify(c);return localStorage.setItem("cart",a),Object(i.a)(Object(i.a)({},t),{},{cartsList:c})},updateList:function(t,e){var n=e.payload,c=t.cartsList,r=t.cartsList.findIndex((function(t){return t.id===n.id&&t.size===n.size}));c.splice(r,1,n);var a=JSON.stringify(c);return localStorage.setItem("cart",a),Object(i.a)(Object(i.a)({},t),{},{cartsList:c})},getTotalMoney:function(t,e){e.payload;var n=t.cartsList,c=0;return n.filter((function(t){return!0===t.select})).map((function(t){c=t.price*t.num+c})),Object(i.a)(Object(i.a)({},t),{},{totalMoney:c})},chooseAll:function(t,e){for(var n=e.payload,c=t.cartsList,r=0;r<c.length;r++)c[r].select=n;return Object(i.a)(Object(i.a)({},t),{},{cartsList:c})},delete:function(t,e){e.payload;var n=t.cartsList.filter((function(t){return!1===t.select}));if(0===n.length)localStorage.removeItem("cart");else{var c=JSON.stringify(n);localStorage.setItem("cart",c)}return Object(i.a)(Object(i.a)({},t),{},{cartsList:n})},goToPay:function(t,e){e.payload;return Object(i.a)(Object(i.a)({},t),{},{cartsList:[]})}}},b=n(220),O=r()();O.use(Object(b.a)()),O.model(f),O.model(p),O.router(n(366).default),O.start("#root")},366:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(131),a=n(25),i=n.n(a),s=n(47),o=n(43),l=n(51),u=n(368),d=n(374),j=n(84),f=n(375),p=n(63),b=n(373),O=n(369),h=n(41),x=n(377),y=n(378),v=n(370),m=(n(351),n(7)),g=Object(l.connect)((function(t){t.products;return{cartsList:t.cart.cartsList}}))((function(t){var e=t.item,n=(t.cartsList,t.dispatch),c=function(t){return t.length>25?"".concat(t.substr(0,25),"..."):t},r=Object(m.jsx)(d.a,{children:null===e||void 0===e?void 0:e.availableSizes.map((function(t,c){return Object(m.jsx)(d.a.Item,{onClick:function(){n({type:"cart/add",payload:{item:e,size:t}})},children:Object(m.jsx)("span",{children:t})},c)}))});return Object(m.jsxs)(v.a,{style:{width:240,margin:"10px auto"},bodyStyle:{padding:0},children:[Object(m.jsx)("div",{className:"custom-image",children:Object(m.jsx)("img",{alt:"example",width:"100%",src:"./data/img/products/".concat(e.sku,"_1.jpg")})}),Object(m.jsxs)("div",{className:"custom-card",children:[Object(m.jsx)("h4",{style:{overflow:"hide",width:"100%"},children:c(e.title)}),Object(m.jsx)("p",{children:c(e.style)||"--"}),Object(m.jsx)("h2",{children:"$"+e.price.toFixed(2)}),Object(m.jsx)(f.a,{overlay:r,trigger:"click",placement:"topRight",children:Object(m.jsx)(p.a,{style:{width:"100%",backgroundColor:"#fc5c01",border:"none",color:"#fff"},children:"Add to Cart"})})]})]})})),L=n(371),w=n(372),k=n(376),S=n(216),C=n(221),z=Object(l.connect)((function(t){t.products;return{cart:t.cart}}))((function(t){var e,n,r=t.openCart,a=t.setOpenCart,l=t.cart,d=t.dispatch,j=(u.a.Footer,Object(c.useState)(!1)),f=Object(o.a)(j,2),p=(f[0],f[1],Object(c.useState)(!1)),b=Object(o.a)(p,2),O=b[0],h=b[1],x=Object(c.useState)(!1),y=Object(o.a)(x,2),v=y[0],g=y[1],z=Object(c.useState)(0),I=Object(o.a)(z,2),N=I[0],D=I[1];Object(c.useEffect)((function(){A().then((function(t){return J()}))}),[]);var A=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d({type:"cart/getData"});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=null===l||void 0===l?void 0:l.cartsList,e=0;t.filter((function(t){return!0===t.select})).map((function(t){e=t.price*t.num+e})),D(e)},P=function(t,e){t.select=e,F(t).then((function(t){return J()}))},F=function(){var t=Object(s.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d({type:"cart/updateList",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(t){d({type:"cart/chooseAll",payload:t}),J(),h(t)},R=function(t,e){var n;return Object(m.jsxs)("div",{className:"cardItem",children:[(null===t||void 0===t?void 0:t.select)?Object(m.jsx)(C.a,{style:{color:"#fc5c01",fontSize:18},onClick:function(){return P(t,!1)}}):Object(m.jsx)(C.a,{style:{color:"#D3D3D3",fontSize:18},onClick:function(){return P(t,!0)}}),Object(m.jsx)("img",{src:"./data/img/products/".concat(t.sku,"_1.jpg"),className:"cartImg"}),Object(m.jsxs)("div",{style:{marginLeft:25},children:[Object(m.jsx)("h5",{children:t.title}),Object(m.jsx)("label",{children:t.size}),Object(m.jsxs)("div",{style:{flexDirection:"row",display:"flex",alignItems:"flex-end"},children:[Object(m.jsx)("label",{style:{fontWeight:"bold",color:"#ff2501",fontSize:18,marginRight:10},children:"$"+(null===t||void 0===t||null===(n=t.price)||void 0===n?void 0:n.toFixed(2))}),Object(m.jsx)(L.a,{value:t.num,style:{width:50,height:30},onChange:function(e){t.num=parseInt(e),d({type:"cart/changeNum",payload:t}),J()}})]})]})]},e)};return Object(m.jsx)(w.a,{closable:!0,maskClosable:!0,mask:!0,visible:r,onClose:function(){a(!1)},width:"375",height:"100%",children:Object(m.jsxs)("div",{style:{height:"100px"},children:[Object(m.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsx)("h1",{children:"\u8d2d\u7269\u8f66"}),Object(m.jsx)("a",{onClick:function(){return g(!v)},style:{marginRight:20,textDecoration:"none",color:"#333"},children:v?"\u5b8c\u6210":"\u7ba1\u7406"})]}),null===l||void 0===l||null===(e=l.cartsList)||void 0===e?void 0:e.map((function(t,e){return Object(m.jsx)("div",{style:{overflow:"scroll",paddingBottom:60,marginTop:10},children:R(t,e)})})),Object(m.jsxs)("div",{className:"cartConfig",children:[Object(m.jsxs)("div",{style:{display:"flex"},children:[O?Object(m.jsx)(C.a,{style:{color:"#fc5c01",fontSize:18},onClick:function(){return M(!1)}}):Object(m.jsx)(C.a,{style:{color:"#D3D3D3",fontSize:18},onClick:function(){return M(!0)}}),Object(m.jsx)("label",{style:{marginLeft:10,color:"#333"},children:"\u5168\u9009"})]}),Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(m.jsxs)("label",{style:{color:"#333"},children:["\u5408\u8ba1\uff1a",Object(m.jsx)("label",{style:{color:"#ff2501"},children:"$"+(null===N||void 0===N?void 0:N.toFixed(2))})]}),v?Object(m.jsx)(k.a,{onConfirm:function(){if(!N>0)return S.b.info("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879\uff01");d({type:"cart/delete"}),S.b.info("\u5220\u9664\u6210\u529f"),h(!1),D(0)},title:"\u786e\u5b9a\u8981\u5220\u9664\uff1f",children:Object(m.jsx)("a",{className:"deleteCart",children:"\u5220\u9664"})}):Object(m.jsx)(k.a,{onConfirm:function(){if(!N>0)return S.b.info("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879\uff01");d({type:"cart/delete"}),S.b.info("\u606d\u559c\u4f60\uff0c\u5b9d\u8d1d\u7ed3\u7b97\u6210\u529f\uff01"),h(!1),D(0)},title:"\u524d\u5f80\u7ed3\u7b97\uff1f",children:Object(m.jsx)("a",{className:(null===l||void 0===l||null===(n=l.cartsList)||void 0===n?void 0:n.length)>0?"goPay":"goPayNo",children:"\u7ed3\u7b97"})})]})]})]})})})),I=Object(l.connect)((function(t){var e=t.loading,n=t.products,c=t.cart;return{productsList:n.productsList,cart:c,loading:e.effects["data/getData"]}}))((function(t){var e=t.dispatch,n=t.productsList,r=(t.loading,t.cart),a=u.a.Header,l=(u.a.Footer,u.a.Sider,u.a.Content),v=Object(c.useState)("ALL"),L=Object(o.a)(v,2),w=L[0],k=L[1],S=Object(c.useState)(!1),C=Object(o.a)(S,2),I=C[0],N=C[1],D=Object(c.useState)(!0),A=Object(o.a)(D,2),J=A[0],P=A[1],F=Object(c.useState)(void 0),M=Object(o.a)(F,2),R=M[0],T=M[1];Object(c.useEffect)((function(){X().then()}),[]);var X=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({type:"products/fetchData"});case 2:P(!1);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(s.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({type:"products/sortByPrice",payload:{type:"price",key:n}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(){return Object(m.jsxs)(d.a,{children:[Object(m.jsx)(d.a.Item,{onClick:function(){T("up"),B("up")},children:"up"}),Object(m.jsx)(d.a.Item,{onClick:function(){T("down"),B("down")},children:"down"})]})};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(a,{children:Object(m.jsx)("h1",{style:{color:"#fff",textAlign:"center",height:"50px"},children:"Shopping street"})}),Object(m.jsx)(z,{openCart:I,setOpenCart:N}),function(){var t;return Object(m.jsx)("div",{style:{position:"fixed",right:30,zIndex:100,top:"250px"},children:Object(m.jsx)(b.a,{count:null===r||void 0===r||null===(t=r.cartsList)||void 0===t?void 0:t.length,children:Object(m.jsx)(y.a,{style:{fontSize:"48px",color:"#fc5c01"},onClick:function(){N(!0)}})})})}(),Object(m.jsxs)(l,{style:{flexDirection:"column",alignItems:"center",display:"flex"},children:[Object(m.jsxs)(j.a,{type:"flex",justify:"center",align:"middle",children:[Object(m.jsx)(f.a,{overlay:$,trigger:"click",children:Object(m.jsxs)(p.a,{size:"large",style:{height:36},children:[R||"price",Object(m.jsx)(x.a,{})]})}),["ALL","XS","S","M","ML","L","XL","XXL"].map((function(t,n){return Object(m.jsx)("a",{className:w===t?"size-button-select":"size-button-unselect",onClick:Object(s.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return P(!0),k(t),n.next=4,e({type:"products/sortList",payload:{type:"size",key:t}});case 4:B(R),P(!1);case 6:case"end":return n.stop()}}),n)}))),children:t},n)}))]}),J?Object(m.jsx)("div",{style:{textAlign:"center"},children:Object(m.jsx)(O.a,{})}):Object(m.jsx)(j.a,{children:null===n||void 0===n?void 0:n.map((function(t,e){return Object(m.jsx)(h.a,{xs:24,sm:12,md:8,lg:6,children:Object(m.jsx)(g,{item:t})})}))})]})]})})}));e.default=function(t){var e=t.history;return Object(m.jsx)(r.Router,{history:e,children:Object(m.jsx)(r.Switch,{children:Object(m.jsx)(r.Route,{path:"/",exact:!0,component:I})})})}}},[[365,1,2]]]);
//# sourceMappingURL=main.151a4a63.chunk.js.map