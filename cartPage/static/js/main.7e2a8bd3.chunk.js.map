{"version":3,"sources":["utils/request.js","model/products.js","model/cart.js","index.js","pages/products/compnents/productCard.js","pages/products/compnents/cartDrawer.js","pages/products/products.js","router.js"],"names":["axios","interceptors","request","use","a","response","error","console","warn","log","status","data","namespace","state","productsList","effects","fetchData","payload","call","put","Promise","resolve","setTimeout","get","type","sortList","lastList","key","filter","i","availableSizes","find","v","reducers","save","sortByPrice","products","sort","b","price","cartsList","totalMoney","getData","localStorage","getItem","JSON","parse","add","currentItem","item","size","select","list","index","findIndex","id","num","push","json","stringify","setItem","changeNum","splice","updateList","getTotalMoney","money","map","chooseAll","value","length","delete","listSelect","removeItem","goToPay","app","dva","createLoading","model","cart","router","require","default","start","connect","dispatch","formatName","str","substr","menu","Item","onClick","style","width","margin","bodyStyle","padding","className","alt","src","sku","overflow","title","toFixed","overlay","trigger","placement","backgroundColor","border","color","openCart","setOpenCart","Layout","Footer","useState","setChooseAll","showDelete","setShowDelete","setTotalMoney","useEffect","initData","then","r","getTotal","chooseItem","nextState","update","chooseOfAll","cartItem","CheckCircleFilled","fontSize","marginLeft","flexDirection","display","alignItems","fontWeight","marginRight","height","onChange","parseInt","closable","maskClosable","mask","visible","onClose","justifyContent","textDecoration","paddingBottom","marginTop","onConfirm","message","info","loading","Header","Sider","Content","selectSize","setSelectSize","refresh","setRefresh","undefined","sortType","setSorType","priceMenu","textAlign","position","right","zIndex","top","count","ShoppingCartOutlined","cartLogo","justify","align","CaretDownOutlined","flexWrap","maxWidth","RouterConfig","history","path","exact","component","IndexPage"],"mappings":"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","file":"static/js/main.7e2a8bd3.chunk.js","sourcesContent":["/**\n * request 网络请求工具\n */\nimport axios from \"axios\";\n// 添加请求拦截器\naxios.interceptors.request.use(async (response) => {\n\n\n  return response;\n},function (error) {\n  //网络出错处理\n\n  console.warn(error)\n\n});\n\n\n// 添加响应拦截器\naxios.interceptors.response.use(\n  (response) => {\n    console.log(response.status);\n    return  response.data\n  },\n  (error) => {\n    throw error;\n  }\n);\n\nexport default axios;\n","import request from \"../utils/request\";\n\n\nexport default {\n    namespace: 'products',\n    state: {\n        productsList: [],\n    },\n\n    effects: {\n        *fetchData({ payload }, { call, put }) {\n            yield new Promise((resolve) => { setTimeout(resolve,1500); });\n            const data = yield call(() => request.get(\"./data/products.json\"));\n            yield put({ type: \"save\", payload: data });\n        },\n        //筛选商品\n        *sortList({ payload }, { call, put }){\n            yield new Promise((resolve) => { setTimeout(resolve,400); });\n            const data = yield call(() => request.get(\"./data/products.json\"));\n            let lastList = [];\n            if (payload.type === \"size\" && payload.key === \"ALL\"){\n                yield put({ type: \"save\", payload: data });\n            }else {\n                //通过尺寸筛选\n                lastList = data?.productsList?.filter(i => i.availableSizes.find(v => v === payload.key));\n                yield put({ type: \"save\", payload: { productsList: lastList } });\n            }\n\n        },\n    },\n\n    reducers: {\n        save(state, { payload: data }) {\n            return { ...state, ...data };\n        },\n        sortByPrice(state, { payload }) {\n            const products = [...state.productsList];\n            payload.key === \"up\" ? products.sort((a, b) => a.price - b.price) : products.sort((a, b) => b.price - a.price);\n            return { ...state, productsList:products};\n        }\n    },\n};\n","export default {\n    namespace: \"cart\",\n\n    state: {\n        //多一个num属性，size属性，select属性\n        cartsList: [\n        //     {\n        //     \"id\": 12,\n        //     \"sku\": 12064273040195392,\n        //     \"title\": \"Cat Tee Black T-Shirt\",\n        //     \"description\": \"4 MSL\",\n        //     \"availableSizes\": [\"S\", \"XS\"],\n        //     \"style\": \"Black with custom print\",\n        //     \"price\": 10.9,\n        //     \"installments\": 9,\n        //     \"currencyId\": \"USD\",\n        //     \"currencyFormat\": \"$\",\n        //     \"num\":1,\n        //     \"size\":\"XS\",\n        //     \"isFreeShipping\": true\n        // }\n        ],\n        totalMoney:0,\n    },\n\n\n    effects: {\n\n    },\n\n    reducers: {\n        getData(state, { payload }) {\n            const data = localStorage.getItem(\"cart\");\n            if (data) {\n                return { cartsList: JSON.parse(localStorage.getItem(\"cart\")) };\n            }\n            return { cartsList: [] };\n        },\n        add(state, { payload }) {\n            let currentItem = {...payload.item,size:payload.size,select:false};\n            //检查list里面有无一样型号的衣服\n            let list = state.cartsList;\n            const index = state.cartsList.findIndex(i => i.id === currentItem.id && i.size === currentItem.size);\n            if (index > -1){\n                //you\n                list[index].num ++;\n            }else {\n                currentItem = {...currentItem,num:1};\n                list.push(currentItem);\n            }\n\n            const json = JSON.stringify(list);\n            localStorage.setItem(\"cart\", json);\n\n            return {...state, cartsList: list };\n        },\n\n        changeNum(state, { payload }) {\n            // if (payload.num <= 0){\n            //\n            // }\n            const item = payload;\n            let list = state.cartsList;\n            const index = state.cartsList.findIndex(i => i.id === item.id && i.size === item.size);\n            list.splice(index,1,item);//替换\n            if (item.num <=0){\n                list.splice(index,1);//直接删除了\n            }\n            const json = JSON.stringify(list);\n            localStorage.setItem(\"cart\", json);\n            return {...state,  cartsList: list };\n\n        },\n\n\n        //更新状态\n        updateList(state, { payload }) {\n            const item = payload;\n            let list = state.cartsList;\n            const index = state.cartsList.findIndex(i => i.id === item.id && i.size === item.size);\n            list.splice(index,1,item);//替换\n            const json = JSON.stringify(list);\n            localStorage.setItem(\"cart\", json);\n            return {...state,  cartsList: list };\n\n        },\n\n        getTotalMoney(state, { payload }) {\n\n            let list = state.cartsList;\n            let money = 0;\n            let listSelect = list.filter(i => i.select === true);\n            listSelect.map(i => {\n                money = (i.price * i.num) + money\n            })\n            return {...state,totalMoney: money}\n\n        },\n\n        chooseAll(state, { payload:value }) {\n            let list = state.cartsList;\n            for (let i =0;i < list.length;i++){\n                list[i].select = value;\n            }\n            return {...state,cartsList: list}\n\n        },\n\n        //清除\n        delete(state, { payload }) {\n            let list = state.cartsList;\n            //未选中的保存\n            let listSelect = list.filter(i => i.select === false);\n            if (listSelect.length === 0){\n                localStorage.removeItem(\"cart\")\n            }else {\n                const json = JSON.stringify(listSelect);\n                localStorage.setItem(\"cart\", json);\n            }\n\n            return {...state,cartsList: listSelect}\n        },\n\n        //结算\n        goToPay(state, { payload }) {\n            // localStorage.setItem(\"cart\", []);\n            return {...state,cartsList: []}\n        },\n    },\n};\n","\nimport dva from \"dva\";\nimport './index.css';\n\nimport products from \"./model/products\";\nimport cart from \"./model/cart\";\nimport createLoading from 'dva-loading';\n\n// 1. Initialize\nconst app = dva();\n\n// 2. Plugins\napp.use(createLoading());\n\n// 3. Model\napp.model(products);\napp.model(cart);\n\n// 4. Router\napp.router(require('./router').default);\n\n// 5. Start\napp.start('#root');\n","import {connect} from \"dva\";\nimport {Button, Card,Menu,Dropdown} from \"antd\";\nimport React from \"react\";\nimport \"../products.css\"\n\nconst ProductCard = ({item,cartsList,dispatch}) =>{\n\n    //超出部分截去\n    const formatName = (str) => {\n        if (str.length > 25) {\n            return `${str.substr(0, 25)}...`;\n        }\n        return str;\n    };\n\n    const menu = (\n        <Menu>\n            {item?.availableSizes.map((i,index) => (\n                <Menu.Item key={index} onClick={() => {\n                    dispatch({\n                        type: \"cart/add\",\n                        payload:{\n                            item:item,\n                            size:i\n                        },\n                    });\n                }}>\n                    <span>{i}</span>\n                </Menu.Item>\n            ))}\n        </Menu>\n    );\n\n    return(\n        <Card style={{ width: 240 ,margin:\"10px 30px\"}} bodyStyle={{ padding: 0 }}>\n            <div className=\"custom-image\">\n                <img alt=\"example\" style={{width:\"80%\"}} src={`./data/img/products/${item.sku}_1.jpg`} />\n            </div>\n            <div className=\"custom-card\">\n                <h4 style={{overflow:'hide',width:'100%'}}>{formatName(item.title)}</h4>\n                <p>{formatName(item.style) || \"--\"}</p>\n                <h2>{'$' + (item.price).toFixed(2)}</h2>\n                <Dropdown overlay={menu}  trigger=\"click\" placement=\"topRight\">\n                    <Button  style={{ width: \"100%\",backgroundColor:\"#fc5c01\",border:\"none\",color:'#fff' }}>\n                        Add to Cart\n                    </Button>\n                </Dropdown>\n            </div>\n        </Card>\n        // <div style={{width:200,height:50,backgroundColor:\"pink\",margin:\"10px 10px\"}}>dsjdjf</div>\n    )\n\n\n};\n\nexport default connect(({ products,cart }) => ({\n    cartsList: cart.cartsList,\n}))(ProductCard);\n","import React, {useState, useEffect} from \"react\";\n\nimport {connect} from \"dva\";\nimport {Drawer, InputNumber, Layout, Menu,Popconfirm,message} from \"antd\";\n\nimport {CheckCircleFilled} from '@ant-design/icons';\n\nconst CartDrawer = ({openCart, setOpenCart, cart, dispatch}) => {\n    const {Footer} = Layout;\n\n    const [isChecked, setIsChecked] = useState(false);\n    const [chooseAll, setChooseAll] = useState(false);\n\n    //管理\n    const [showDelete, setShowDelete] = useState(false);\n    //合计的钱\n    const [totalMoney, setTotalMoney] = useState(0);\n\n    const openDrawer = () => {\n        console.log('-------------openDrawer------------');\n\n    }\n\n    useEffect(() => {\n        initData().then(r =>  getTotal());\n    },[]);\n\n    const initData = async () =>{\n        await dispatch({\n            type: \"cart/getData\",\n        });\n    };\n\n    //获得总价钱\n    const getTotal = () => {\n        // dispatch({\n        //     type: \"cart/getTotalMoney\",\n        // });\n        let list = cart?.cartsList;\n        let money = 0;\n        let listSelect = list.filter(i => i.select === true);\n        listSelect.map(i => {\n            money = (i.price * i.num) + money\n        });\n        setTotalMoney(money)\n    }\n\n    //选中一件商品\n\n    const chooseItem = (item, nextState) => {\n\n        item.select = nextState;\n        update(item).then(r => getTotal()\n        )\n    };\n\n    const update = async (item) => {\n        await dispatch({\n            type: \"cart/updateList\",\n            payload: item,\n        });\n    }\n\n    const sizeMenu = (item) => {\n        return (\n            <Menu>\n                {item?.availableSizes.map((item) => (\n                    <Menu.Item key={item}>\n                        <span>{item}</span>\n                    </Menu.Item>\n                ))}\n            </Menu>\n        );\n    }\n\n    const chooseOfAll = (nextState) => {\n        dispatch({\n            type: \"cart/chooseAll\",\n            payload: nextState,\n        });\n        getTotal()\n        setChooseAll(nextState)\n    }\n\n    //宝贝的item\n    const cartItem = (item, index) => {\n        const selectOne = (e) => {\n            // setIsChecked(!isChecked)\n        }\n\n        return (\n            <div className={\"cardItem\"} key={index}>\n                {\n                    item?.select ?\n                        <CheckCircleFilled style={{color: '#fc5c01', fontSize: 18}}\n                                           onClick={() => chooseItem(item, false)}/> :\n                        <CheckCircleFilled style={{color: '#D3D3D3', fontSize: 18}}\n                                           onClick={() => chooseItem(item, true)}/>\n                }\n                <img src={`./data/img/products/${item.sku}_1.jpg`}\n                     className={\"cartImg\"}/>\n\n                <div style={{marginLeft: 25}}>\n                    <h5>{item.title}</h5>\n                    <label>{item.size}</label>\n\n                    <div style={{flexDirection: 'row', display: 'flex', alignItems: 'flex-end'}}>\n                        <label style={{\n                            fontWeight: 'bold',\n                            color: '#ff2501',\n                            fontSize: 18,\n                            marginRight: 10\n                        }}>{\"$\" + item?.price?.toFixed(2)}</label>\n                        <InputNumber\n                            value={item.num}\n                            style={{width: 50, height: 30}}\n                            onChange={(value) => {\n                                item.num = parseInt(value);\n\n                                dispatch({\n                                    type: \"cart/changeNum\",\n                                    payload: item,\n                                });\n                                getTotal();\n                            }\n\n                            }\n                        />\n                    </div>\n                </div>\n\n\n            </div>\n        )\n    }\n\n    return (\n        <Drawer\n            closable\n            maskClosable\n            mask\n            visible={openCart}\n            onClose={() => {\n                setOpenCart(false)\n            }}\n            width=\"375\"\n            height=\"100%\"\n        >\n            <div style={{height: \"100px\"}}>\n                <div style={{\n                    flexDirection: 'row',\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                }}>\n                    <h1>购物车</h1>\n                    <a onClick={() => setShowDelete(!showDelete)}\n                       style={{marginRight: 20, textDecoration: 'none', color: \"#333\"}}>{showDelete ? \"完成\" : \"管理\"}</a>\n                </div>\n\n                {\n                    cart?.cartsList?.map(\n                        (i, index) => {\n                            return (\n                                <div style={{overflow: 'scroll', paddingBottom: 60, marginTop: 10}}>\n                                    {cartItem(i, index)}\n\n                                </div>\n                            )\n                        }\n                    )\n                }\n\n                {/*底部结算*/}\n                <div className={\"cartConfig\"}>\n                    <div style={{display: 'flex'}}>\n                        {\n                            chooseAll ?\n                                <CheckCircleFilled style={{color: '#fc5c01', fontSize: 18}}\n                                                   onClick={() => chooseOfAll(false)}/> :\n                                <CheckCircleFilled style={{color: '#D3D3D3', fontSize: 18}}\n                                                   onClick={() => chooseOfAll(true)}/>\n                        }\n                        <label style={{marginLeft: 10, color: \"#333\"}}>全选</label>\n                    </div>\n                    <div style={{display: 'flex', alignItems: 'center'}}>\n                        {<label style={{color: \"#333\"}}>合计：\n                            <label style={{color: '#ff2501'}}>{\"$\" + totalMoney?.toFixed(2)}</label>\n                        </label>}\n                        {showDelete ?\n                            <Popconfirm  onConfirm={() => {\n                                if (!totalMoney > 0){\n                                    return message.info('请至少选择一项！')\n                                }\n                                dispatch({type: \"cart/delete\"});message.info('删除成功');setChooseAll(false);setTotalMoney(0)}} title=\"确定要删除？\">\n                               <a className={\"deleteCart\"}>删除</a>\n                            </Popconfirm> :\n                            <Popconfirm  onConfirm={() => {\n                                if (!totalMoney > 0){\n                                    return message.info('请至少选择一项！')\n                                }\n                                dispatch({type: \"cart/delete\"});message.info('恭喜你，宝贝结算成功！');setChooseAll(false);setTotalMoney(0)}\n                            } title=\"前往结算？\">\n                                <a className={cart?.cartsList?.length > 0 ? \"goPay\" : \"goPayNo\"}>结算</a>\n                            </Popconfirm>\n                        }\n                    </div>\n\n                </div>\n\n            </div>\n\n        </Drawer>\n    )\n}\n\nexport default connect(({products, cart}) => ({\n    cart: cart,\n}))(CartDrawer);\n","import React, {useEffect, useState} from \"react\";\n\nimport {connect} from \"dva\";\nimport {\n    Button,\n    Row,\n    Badge,\n    Menu,\n    Col,\n    Dropdown,\n    Layout,\n    Spin\n} from \"antd\";\nimport {\n    ShoppingCartOutlined,\n    CaretUpOutlined,\n    CaretDownOutlined\n} from '@ant-design/icons';\nimport ProductCard from \"./compnents/productCard\";\nimport CartDrawer from \"./compnents/cartDrawer\";\n\nconst Products = ({dispatch, productsList, loading,cart}) => {\n    const {Header, Footer, Sider, Content} = Layout;\n\n    const [selectSize, setSelectSize] = useState(\"ALL\");\n    //打开购物车\n    const [openCart, setOpenCart] = useState(false);\n    const [refresh, setRefresh] = useState(true);\n\n    const [sortType,setSorType] = useState(undefined);\n\n    useEffect(() => {\n        initData().then();\n\n    }, []);\n\n\n    //初始化数据\n    const initData = async () => {\n        await dispatch({\n            type: \"products/fetchData\",\n        });\n        setRefresh(false)\n    };\n\n    const sortByPrice = async (key) =>{\n            await dispatch({\n                type: \"products/sortByPrice\",\n                payload: {\n                    type: \"price\",\n                    key: key,\n                }\n            });\n    };\n\n    //价格选择排序\n    const priceMenu = () => {\n\n        return (\n            <Menu>\n                <Menu.Item  onClick={() => {\n                    setSorType(\"up\")\n                    sortByPrice(\"up\")\n                }}>up</Menu.Item>\n                <Menu.Item  onClick={() => {\n                    setSorType(\"down\")\n                    sortByPrice(\"down\")\n                }}>down</Menu.Item>\n            </Menu>\n        )\n    }\n\n\n\n//顶部筛选栏\nconst sizeButtonArea = () =>\n    <Row type=\"flex\" justify=\"center\" align=\"middle\">\n        <Dropdown overlay={priceMenu} trigger=\"click\">\n            <Button size={\"large\"} style={{height:36}}>\n                {sortType || \"price\"}\n                <CaretDownOutlined/>\n            </Button>\n        </Dropdown>\n        {\n            [\"ALL\", \"XS\", \"S\", \"M\", \"ML\", \"L\", \"XL\", \"XXL\"].map(\n                (i, index) => (\n                    <a key={index} className={selectSize === i ? \"size-button-select\" : \"size-button-unselect\"}\n                       onClick={async () => {\n                           setRefresh(true)\n                           setSelectSize(i)\n                           await dispatch({\n                               type: \"products/sortList\",\n                               payload: {\n                                   type: \"size\",\n                                   key: i,\n                               }\n                           });\n                           sortByPrice(sortType)\n                           setRefresh(false)\n                       }}>\n                        {i}\n                    </a>\n                ),\n            )\n        }\n\n    </Row>;\n\n\n//右侧的购物车\nconst cartLogo = () => {\n    return (\n        <div style={{position: 'fixed', right: 30, zIndex: 100, top: \"250px\"}}>\n            <Badge\n                count={cart?.cartsList?.length}\n            >\n                <ShoppingCartOutlined\n                    style={{fontSize: \"48px\", color: \"#fc5c01\"}}\n                    onClick={() => {\n                        setOpenCart(true)\n                    }}\n                />\n            </Badge>\n        </div>\n    )\n};\n\nreturn (\n    <>\n        <Layout>\n            <Header>\n                <h1 style={{color: '#fff', textAlign: 'center', height: \"50px\"}}>Shopping street</h1>\n            </Header>\n            {/*购物车*/}\n            <CartDrawer openCart={openCart} setOpenCart={setOpenCart}/>\n            {cartLogo()}\n            <div style={{flexDirection: 'column', alignItems: 'center', display: 'flex'}}>\n                {sizeButtonArea()}\n                {refresh ? (\n                        <div style={{ textAlign: \"center\" }}>\n                            <Spin />\n                        </div>\n                    ) :\n                <div  style={{width:\"100%\",flexWrap:'wrap',flexDirection:'row',display:'flex',maxWidth:\"1200px\",justifyContent:'center'}}>\n                    {productsList?.map((i, index) =>\n                        // eslint-disable-next-line react/jsx-no-undef\n                        // <Col xs={24} sm={12} md={8} lg={6}>\n                            <ProductCard item={i}/>\n                       // </Col>\n                    )}\n\n                </div>\n                }\n\n            </div>\n\n        </Layout>\n\n    </>\n\n)\n}\n;\n\n\nexport default connect(({loading, products, cart}) => ({\n    productsList: products.productsList,\n    cart: cart,\n    loading: loading.effects[\"data/getData\"],\n}))(Products);\n","/**\n * 路由\n */\n\nimport React from 'react';\nimport { Router, Route, Switch } from 'dva/router';\nimport IndexPage from './pages/products/products';\n\nfunction RouterConfig({ history }) {\n    return (\n        <Router history={history}>\n            <Switch>\n                <Route path=\"/\" exact component={IndexPage} />\n            </Switch>\n        </Router>\n    );\n}\n\nexport default RouterConfig;\n"],"sourceRoot":""}
